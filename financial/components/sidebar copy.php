<div id="sidebar" class="vstack d-flex justify-content-between visually-hidden scrollbar">
    <div class="top">
        <div class="d-flex align-items-center ps-2" style="height: 3rem;">
            <h4 class="mb-0">TruLend</h4>
        </div>
        <br>
        <div class="navs px-4 d-flex flex-column gap-1 align-items-center justify-content-center position-relative">
        <div class="py-2">
            <h5 class="text-uppercase fw-bold nunito-nav">General Ledger</h5>
        </div>
        <!-- General Ledger Submodules -->
        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-book"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/general_ledger.php">General Ledger</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-journal-text"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/gl_book_keeper.php">Book Keeper</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-diagram-3"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/gl_chart_of_acc.php">Chart of Accounts</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-file-earmark-bar-graph"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/gl_statement.php">Statement</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-arrow-left-right"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/gl_transaction.php">Transaction</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-graph-up"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/gl_report.php">Report</a>
        </div>


        <!-- Collection Header -->
        <div class="py-2">
            <h5 class="text-uppercase fw-bold nunito-nav">Collection</h5>
        </div>

        <!-- Collection Submodules -->
        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-person-lines-fill"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/col_ar.php">AR</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-credit-card"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/col_account_payment.php">Account Payment</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-journal-check"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/collection_management.php">Collection Management</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-graph-up"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/col_report.php">Report</a>
        </div>

        <!-- Disbursement Header -->
        <div class="py-2">
            <h5 class="text-uppercase fw-bold nunito-nav">Disbursement</h5>
        </div>

        <!-- Disbursement Submodules -->
            <div class="py-2 hstack gap-3 nav-item">
                <i class="bi bi-cash-stack"></i>
                <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/disb_loan.php">Loan</a>
            </div>

            <div class="py-2 hstack gap-3 nav-item">
                <i class="bi bi-send"></i>
                <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/disbursement.php">Disbursement</a>
            </div>

            <div class="py-2 hstack gap-3 nav-item">
                <i class="bi bi-bank"></i>
                <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/disb_repayment.php">Repayment</a>
            </div>

            <div class="py-2 hstack gap-3 nav-item">
                <i class="bi bi-graph-up"></i>
                <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/disb_report.php">Report</a>
            </div>

        <!-- AR Header -->
        <div class="py-2">
            <h5 class="text-uppercase fw-bold nunito-nav">AR</h5>
        </div>

        <!-- AR Submodules -->
        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-person-lines-fill"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ar_loanacc.php">Loan Account</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-journal-text"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ar_disb_tracking.php">Disbursement Tracking</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-cash-coin"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ar_repayment.php">Repayment Management</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-graph-up"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ar_report.php">Report</a>
        </div>

        <!-- AP Header -->
        <div class="py-2">
            <h5 class="text-uppercase fw-bold nunito-nav">AP</h5>
        </div>

        <!-- AP Submodules -->
        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-credit-card-2-back"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ap_funder_repayment.php">Funder Payment</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-exclamation-circle"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ap_liability.php">Liability</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-bank"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ap_funding_source.php">Funding Source</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-graph-up"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/ap_report.php">Report</a>
        </div>

        <!-- Budget Management Header -->
        <div class="py-2">
            <h5 class="text-uppercase fw-bold nunito-nav">Budget Management</h5>
        </div>

        <!-- Budget Management Submodules -->
        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-sliders"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/bm_budget_adjustment.php">Budget Adjustment</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-journal-text"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/bm_budget_planning.php">Budget Planning</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-graph-up-arrow"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/bm_budget_monitoring.php">Budget Monitoring</a>
        </div>

        <div class="py-2 hstack gap-3 nav-item">
            <i class="bi bi-graph-up"></i>
            <a class="nunito-nav" href="/dashboard/Microfinance/financial/financial/bm_report.php">Report</a>
        </div>
        </div>
    </div>
    <div class="d-flex w-100 flex-column mt-2">
       <hr>
    </div>
    <div class="container ">
        <div id="profile" class="d-flex align-items-center justify-content-between px-4 pt-1"
            style="height: 5rem">

            <div class="lato-regular">
                <h6><?php echo isset($_SESSION['fullname']) ? $_SESSION['fullname'] : 'Undefined';?></h6>
                <small><?php echo isset($_SESSION['role']) ? $_SESSION['role']: 'Undefined';?></small>
            </div>

            <form action="" method="POST">
                <div class="dropdown">
                    <a class="btn" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-three-dots-vertical"></i>
                    </a>    
                    <ul class="dropdown-menu">
                        <button class="btn dropdown-item" type="submit" name="logout">
                            <i class="bi bi-box-arrow-left"></i>
                            Logout
                        </button>
                    </ul>
                </div>
            </form>
        </div>
    </div>
    
</div>
<!-- save scroll position -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const sidebar = document.getElementById("sidebar");
        const savedScroll = localStorage.getItem("sidebarScrollTop");

        if (savedScroll !== null) {
            sidebar.scrollTop = parseInt(savedScroll, 10);
        }

        document.querySelectorAll("#sidebar a").forEach(link => {
            link.addEventListener("click", () => {
                localStorage.setItem("sidebarScrollTop", sidebar.scrollTop);
            });
        });
    });
</script>